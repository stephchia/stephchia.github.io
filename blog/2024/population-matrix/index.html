<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Population matrix tutorial | Stephanie Chia </title> <meta name="author" content="Stephanie Chia"> <meta name="description" content="A tutorial using blue crabs as example to explore population dynamics with population matrix (with R)"> <meta name="keywords" content="ecoinformatics, ecology, evolution, macroecology, macroevolution, ecologist, phd, data science, environment"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Klee+One&amp;family=LXGW+WenKai+TC&amp;family=Yuji+Boku&amp;display=swap" rel="stylesheet"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://stephchia.github.io/blog/2024/population-matrix/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Stephanie Chia <span class="zh">賈媛</span> </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/research/">Research </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Population matrix tutorial</h1> <p class="post-meta"> Created on April 02, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/r"> <i class="fa-solid fa-hashtag fa-sm"></i> R</a>   <a href="/blog/tag/population"> <i class="fa-solid fa-hashtag fa-sm"></i> population</a>   <a href="/blog/tag/matrix"> <i class="fa-solid fa-hashtag fa-sm"></i> matrix</a>   <a href="/blog/tag/crab"> <i class="fa-solid fa-hashtag fa-sm"></i> crab</a>   ·   <a href="/blog/category/teaching"> <i class="fa-solid fa-tag fa-sm"></i> teaching</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>This material was summarized from a lecture I taught on blue crab population structure in the Population Ecology course (Spring 2024) at the University of Maryland. There were several lectures preceeding this one that provided more information in blue crab population dynamics.</p> <p>The objective is to demonstrate how we can use population matrix to explore the fate of a population under different survival, fecundity, and harvesting scenarios. This material aims to be suitable for students with limited R experience and limited familiarity with matrix manipulation.</p> <p>The blue crab life cycle, as well as the functions and parameteres used in the R tutorial, are based on <a href="https://link.springer.com/article/10.2307/1353255" rel="external nofollow noopener" target="_blank">Miller (2001) Matrix-based modeling of blue crab population dynamics with applications to the Chesapeake Bay.</a></p> <hr> <h2 id="background-blue-crab-population-structure">Background: Blue crab population structure</h2> <h3 id="a-simple-example-of-blue-crab-life-cycle">A simple example of blue crab life cycle</h3> <p><img src="/assets/img/post/20240402/01.png" alt="image" width="100%"></p> <h3 id="add-seasonal-and-spatial-dynamics">Add seasonal and spatial dynamics</h3> <p><img src="/assets/img/post/20240402/02.png" alt="image" width="100%"></p> <p>This is what each element means:</p> <p><img src="/assets/img/post/20240402/03.png" alt="image" width="45%"></p> <p>We can derive the summer and winter transition matrix separately by leaving only the elements specified (as the arrows) in the life cycle diagram. Replace the rest with 0.</p> <p><img src="/assets/img/post/20240402/04.png" alt="image" width="100%"></p> <p><img src="/assets/img/post/20240402/05.png" alt="image" width="100%"></p> <h3 id="compute-population-for-future-time-steps">Compute population for future time steps</h3> <p>Using the transition matrices and the current population data, we can compute population for the next year and the years after.</p> <p><img src="/assets/img/post/20240402/06.png" alt="image" width="100%"></p> <p>By plugging in the parameters and functions for the matrix elements, we can then calculate the actual population sizes.</p> <p><img src="/assets/img/post/20240402/07.png" alt="image" width="100%"></p> <hr> <h2 id="r-tutorial">R tutorial</h2> <p>In this tutorial, we will use the transition matrices introdued above to predict blue crab population change under different scenarios. The parameters and functions for the transition matrices (<a href="https://link.springer.com/article/10.2307/1353255" rel="external nofollow noopener" target="_blank">Miller 2001</a>) are provided in the code.</p> <h3 id="objectives">Objectives</h3> <ol> <li>Simulate blue crab population change with the given parameters <ul> <li>Script already written. Your job is to understand the code, run it and generate result.</li> </ul> </li> <li>Explore the fate of crab population under different scenarios (“what if” questions) <ul> <li>You will need to modify the code to generate results</li> </ul> </li> </ol> <h3 id="initialization">Initialization</h3> <h4 id="set-parameters">Set parameters</h4> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.1875</span><span class="w"> </span><span class="c1"># natural mortality</span><span class="w">
</span><span class="n">mF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.45</span><span class="w"> </span><span class="c1"># fishing mortality</span><span class="w">
</span><span class="n">dredge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="c1"># winter dredge fishing mortality multiplier (1: same intensity as summer fishing; 0: no winter dredging)</span><span class="w">
</span><span class="n">fecundity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1600000</span><span class="w"> </span><span class="c1"># fecundity (per capita number of offspring)</span><span class="w">
</span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.15</span><span class="w"> </span><span class="c1"># fraction of small/juvenile crabs growing into large young crabs</span><span class="w">
</span><span class="n">larva_survival</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.000001196</span><span class="w"> </span><span class="c1"># survival of larvae into juveniles</span><span class="w">
</span></code></pre></div></div> <h4 id="derive-entries-of-the-transition-matrix">Derive entries of the transition matrix</h4> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">larva_survival</span><span class="w">
</span><span class="n">s22</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="o">-</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="n">mN</span><span class="p">)</span><span class="w">
</span><span class="n">s32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="n">mN</span><span class="p">)</span><span class="w">
</span><span class="n">s33</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">mN</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">mF</span><span class="p">))</span><span class="w">
</span><span class="n">s44</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">mN</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">mF</span><span class="p">))</span><span class="w">

</span><span class="n">w13</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.66</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fecundity</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">mN</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dredge</span><span class="o">*</span><span class="n">mF</span><span class="p">))</span><span class="w">
</span><span class="n">w14</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fecundity</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">mN</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dredge</span><span class="o">*</span><span class="n">mF</span><span class="p">))</span><span class="w">
</span><span class="n">w21</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="o">-</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="n">mN</span><span class="p">)</span><span class="w">
</span><span class="n">w31</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="n">mN</span><span class="p">)</span><span class="w">
</span><span class="n">w42</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="n">mN</span><span class="p">)</span><span class="w">
</span><span class="n">w43</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">mN</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dredge</span><span class="o">*</span><span class="n">mF</span><span class="p">))</span><span class="w">
</span><span class="n">w44</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">mN</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dredge</span><span class="o">*</span><span class="n">mF</span><span class="p">))</span><span class="w">
</span></code></pre></div></div> <h4 id="create-summer-transition-matrix">Create summer transition matrix</h4> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A_summer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">s11</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="m">0</span><span class="p">,</span><span class="w"> 
                         </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="n">s22</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="m">0</span><span class="p">,</span><span class="w">
                         </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="n">s32</span><span class="p">,</span><span class="w"> </span><span class="n">s33</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w">
                         </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="n">s44</span><span class="p">),</span><span class="w"> 
                  </span><span class="n">ncol</span><span class="o">=</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="n">byrow</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="n">A_summer</span><span class="w"> </span><span class="c1"># print matrix</span><span class="w">
</span></code></pre></div></div> <h4 id="create-winter-transition-matrix">Create winter transition matrix</h4> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A_winter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="n">w13</span><span class="p">,</span><span class="w"> </span><span class="n">w14</span><span class="p">,</span><span class="w"> 
                         </span><span class="n">w21</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="m">0</span><span class="p">,</span><span class="w">
                         </span><span class="n">w31</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="m">0</span><span class="p">,</span><span class="w">
                         </span><span class="m">0</span><span class="p">,</span><span class="w">   </span><span class="n">w42</span><span class="p">,</span><span class="w"> </span><span class="n">w43</span><span class="p">,</span><span class="w"> </span><span class="n">w44</span><span class="p">),</span><span class="w"> 
                  </span><span class="n">ncol</span><span class="o">=</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="n">byrow</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="n">A_winter</span><span class="w">
</span></code></pre></div></div> <h4 id="create-initial-population-as-a-vector-juvenile-small-young-crab-large-young-crab-adult">Create initial population as a vector (Juvenile, Small young crab, Large young crab, Adult)</h4> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">N1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w">
</span></code></pre></div></div> <h3 id="simulate-population-change">Simulate population change</h3> <blockquote class="block-tip"> <h4 id="basic-info-of-matrix-multiplication">Basic info of matrix multiplication:</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">%*%</code> is the operator for matrix multiplication in R</li> <li>$AB$ does not equal to $BA$</li> <li>$(AB)C$ equals to $A(BC)$</li> </ul> </blockquote> <h4 id="demonstration-of-matrix-multiplication">Demonstration of matrix multiplication</h4> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A_summer</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">N1</span><span class="w"> </span><span class="c1"># population after a summer</span><span class="w">
</span><span class="n">A_winter</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">A_summer</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">N1</span><span class="w"> </span><span class="c1"># after 1 year</span><span class="w">
</span><span class="n">A_winter</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">A_summer</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">A_winter</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">A_summer</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">N1</span><span class="w"> </span><span class="c1"># after 2 years</span><span class="w">
</span></code></pre></div></div> <p>Alternatively</p> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A_winter</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">A_summer</span><span class="w">
</span><span class="n">A</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">N1</span><span class="w"> </span><span class="c1"># after 1 year</span><span class="w">
</span><span class="n">A</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">N1</span><span class="w"> </span><span class="c1"># after 2 year</span><span class="w">
</span></code></pre></div></div> <h4 id="simulating-population-for-multiple-years">Simulating population for multiple years</h4> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># total years for simulation</span><span class="w">
</span><span class="n">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="w">

</span><span class="c1"># create an empty matrix to store simulated population data</span><span class="w">
</span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">

</span><span class="c1"># assign initial population for year 1 (as the first column of matrix N)</span><span class="w">
</span><span class="n">N</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">N1</span><span class="w"> 

</span><span class="c1"># simulate population change</span><span class="w">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">2</span><span class="o">:</span><span class="n">year</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># store each year's population in the matrix</span><span class="w">
  </span><span class="n">N</span><span class="p">[,</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">%*%</span><span class="w"> </span><span class="n">N</span><span class="p">[,</span><span class="n">i</span><span class="m">-1</span><span class="p">]</span><span class="w">
  
  </span><span class="c1"># print the population growth rate</span><span class="w">
  </span><span class="n">growth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">N</span><span class="p">[,</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">N</span><span class="p">[,</span><span class="n">i</span><span class="m">-1</span><span class="p">])</span><span class="w">
  </span><span class="n">print</span><span class="p">(</span><span class="n">growth</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">N</span><span class="w"> </span><span class="c1"># print matrix</span><span class="w">
</span></code></pre></div></div> <h4 id="plot-population-by-year">Plot population by year</h4> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot</span><span class="p">(</span><span class="n">N</span><span class="p">[</span><span class="m">4</span><span class="p">,],</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"l"</span><span class="p">,</span><span class="w"> </span><span class="n">ylim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">N</span><span class="p">[</span><span class="m">4</span><span class="p">,]</span><span class="o">*</span><span class="m">2</span><span class="p">)),</span><span class="w"> </span><span class="n">xlab</span><span class="o">=</span><span class="s2">"Year"</span><span class="p">,</span><span class="w"> </span><span class="n">ylab</span><span class="o">=</span><span class="s2">"N"</span><span class="p">)</span><span class="w"> </span><span class="c1"># adult</span><span class="w">
</span><span class="n">lines</span><span class="p">(</span><span class="n">N</span><span class="p">[</span><span class="m">3</span><span class="p">,],</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="c1"># add large young crab</span><span class="w">
</span><span class="n">lines</span><span class="p">(</span><span class="n">N</span><span class="p">[</span><span class="m">2</span><span class="p">,],</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="w"> </span><span class="c1"># add small young crab</span><span class="w">
</span><span class="n">lines</span><span class="p">(</span><span class="n">N</span><span class="p">[</span><span class="m">1</span><span class="p">,],</span><span class="w"> </span><span class="n">col</span><span class="o">=</span><span class="s2">"green"</span><span class="p">,</span><span class="w"> </span><span class="n">lty</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w"> </span><span class="c1"># add larva</span><span class="w">
</span></code></pre></div></div> <h3 id="questions-can-these-strategies-stop-the-decline-of-blue-crab-population">Questions: Can these strategies stop the decline of blue crab population?</h3> <ol> <li>Can we stop the decline of blue crab population by placing restrictions on winter dredge fishing?</li> <li>What if we can double the survival rate of larvae? (keeping everything else as usual)</li> <li>What if we can double the fecundity of crab? (keeping everything else as usual)</li> <li>Given the following scenario altogether, will the population grow or decline? <ul> <li>Winter dredge fishing is completely banned (which is actually the case);</li> <li>in response, fishermen increased summer fishing mortality by 50% to compensate for the loss in winter;</li> <li>on the other hand, the warming climate has reduced winter natural mortality by 50% for all life stages.</li> </ul> </li> <li>Is the long-term population growth rate sensitive to the initial population structure (N1)?</li> <li>How does the “proportion of each life stage” change over time? (# of individuals in each life stage / total # of individuals)</li> </ol> <blockquote class="block-tip"> <h3 id="r-notestips">R notes/tips</h3> <ul> <li>short cut for running code: ctrl + enter (Windows) or cmd + return (Mac)</li> <li>you can select multiple lines of code to run at once</li> <li>the order you run the code matters</li> <li>R is case sensitive</li> <li>click the broom (upper right corner) to clear all stored objects</li> <li>Extract matrix entry: <code class="language-plaintext highlighter-rouge">N[x,y]</code> extracts the element in row x column y in matrix N</li> <li>Exponential: <code class="language-plaintext highlighter-rouge">exp(n)</code> means e^n (where e is the Euler’s number)</li> <li>Generate number sequence: <code class="language-plaintext highlighter-rouge">1:10</code> represents a vector (a list of numbers) of 1 to 10, i.e. <code class="language-plaintext highlighter-rouge">c(1,2,3,4,5,6,7,8,9,10)</code> </li> <li>Scientific number: <code class="language-plaintext highlighter-rouge">1.23e+05</code> represents 1.23<em>10^4, which is 12300. Similarly, <code class="language-plaintext highlighter-rouge">1.23e-05</code> is 1.23</em>10^-5 = 0.000123.</li> </ul> </blockquote> </div> </article> </div> </div> </div> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> © 2025 Stephanie Chia. Powered by Jekyll with al-folio theme. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>